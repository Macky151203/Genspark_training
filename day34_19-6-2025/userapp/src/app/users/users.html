<div class="container py-4">
  <h2 class="mb-4">User Management</h2>

  <form [formGroup]="form" (ngSubmit)="addUser()" novalidate class="mb-4 border p-4 rounded bg-light">
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Username</label>
        <input class="form-control" formControlName="username" placeholder="Enter username" />
        <div *ngIf="form.get('username')?.errors?.['bannedWord'] && form.get('username')?.touched" class="text-danger">
          Username contains banned words!
        </div>
        <div *ngIf="form.get('username')?.errors?.['required'] && form.get('username')?.touched" class="text-danger">
          Username is required.
        </div>
      </div>

      <div class="col-md-6">
        <label class="form-label">Email</label>
        <input class="form-control" formControlName="email" placeholder="Enter email" />
        <div *ngIf="form.get('email')?.errors?.['email'] && form.get('email')?.touched" class="text-danger">
          Invalid email format.
        </div>
      </div>

      <div class="col-md-6">
        <label class="form-label">Password</label>
        <input type="password" class="form-control" formControlName="password" placeholder="Password" />
        <div *ngIf="form.get('password')?.errors?.['weakPassword'] && form.get('password')?.touched" class="text-danger">
          Password must be at least 6 characters, contain a number and a symbol.
        </div>
      </div>

      <div class="col-md-6">
        <label class="form-label">Confirm Password</label>
        <input type="password" class="form-control" formControlName="confirmPassword" placeholder="Confirm Password" />
        <div *ngIf="form.errors?.['passwordMismatch'] && form.get('confirmPassword')?.touched" class="text-danger">
          Passwords do not match.
        </div>
      </div>

      <div class="col-md-6">
        <label class="form-label">Role</label>
        <input class="form-control" formControlName="role" placeholder="User role" />
      </div>
    </div>

    <button class="btn btn-primary mt-3" type="submit" [disabled]="form.invalid">Add User</button>
  </form>

  <div class="mb-3">
    <input
    class="form-control w-50 me-2"
    type="text"
    [(ngModel)]="searchTerm"
    (input)="searchuser()"
    placeholder="Search User by username"
  />
  </div>





  <div class="card">
    <div class="card-header">User List</div>
    <ul class="list-group ">
      <li *ngFor="let user of users" class="list-group-item">
        <strong>{{ user.username }}</strong> ({{ user.role }}) - {{ user.email }}
      </li>
    </ul>
  </div>
</div>


